<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">

 

  


<title>Java Stream Interview Tests - takeWhile</title>
<meta data-rh="true" property="og:url" content="https://example.org/posts/2021/11/java-stream-interview-tests-takewhile/">
<meta data-rh="true" property="og:title" content="Java Stream Interview Tests - takeWhile">
<meta data-rh="true" name="description" content="">
<meta data-rh="true" property="og:site_name" content="Gerald Nguyen">
<meta data-rh="true" property="og:description" content="">
<meta data-rh="true" name="twitter:description" content="">
<meta data-rh="true" property="al:web:url" content="https://example.org/posts/2021/11/java-stream-interview-tests-takewhile/">
<meta data-rh="true" property="og:type" content="article">





      <link rel="stylesheet" href="/css/main.min.506e7c5f5ad8849b0ceb4d9542d62283119097141b7c14e3917cceef33f3dc94.css" integrity="sha256-UG58X1rYhJsM602VQtYigxGQlxQbfBTjkXzO7zPz3JQ=" crossorigin="anonymous">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



      <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>


</head>
<body class="container-xxl">
  <div class="top-menu">
    
  <nav>
    <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/pages/about/">About</a>
    </li>
    </ul>
  </nav>

  </div>

  <header>
    <div class="header-content">
      


  <div class="categories-list">
    <ul>
        <li><a href="/categories/software-development/">Software Development</a></li>
        <li><a href="/categories/career-development/">Career Development</a></li>
    </ul>
  </div>


<h1>Java Stream Interview Tests - takeWhile</h1>

<h2 class="subtitle">Stream has been an important part of Java development since Java 8. This test assesses candidates&#39; understanding of Stream’s mechanics</h2>





<div class="story-profile-brief d-flex flex-row">
  <div class="me-2">
    
    <img alt="Gerald Nguyen" class="profile-thumbnail rounded-circle"
          src="https://example.org/geraldnguyen-profile-thumbnail.jpg" width="44"
          height="44" loading="lazy" data-testid="authorPhoto">
    
  </div>
  <div>
    <div>
      <a rel="noopener follow" href="https://example.org/">
        Gerald Nguyen
      </a>
    </div>
    <div>
      <span>4 min read</span>
      <span>·</span>
      <span><time datetime="2021-11-01T09:19:42&#43;01:00">November 1, 2021</time></span>
    </div>
  </div>
            
</div>  


    </div>
    <div class="header-nav">
      
  
  <a href="/posts/2021/10/java-stream-interview-tests-distinct-characters/">Previous</a>
  
  <span> | </span>
  
  <a href="/posts/2022/11/code-review-as-an-interview-tool/">Next</a>
  


    </div>
    
  </header>

  <main>
    <div class="bd-toc">
      
  <div class="toc-header">On this page</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#why-java-stream">Why Java Stream?</a></li>
    <li><a href="#requirement">Requirement</a></li>
    <li><a href="#discussion">Discussion</a></li>
    <li><a href="#imperative-solution">Imperative Solution</a></li>
    <li><a href="#stream-based-solutions">Stream-based Solutions</a></li>
    <li><a href="#non-boolean-approach">Non-boolean Approach</a></li>
    <li><a href="#sample-codes">Sample Codes</a></li>
  </ul>
</nav>

    </div>
    <div class="bd-main">
      

  <figure><img src="/posts/2021/11/java-stream-interview-tests-takewhile/1_QnzX3SLxc1y3ALxkg6Rwyw.png"
    alt="Generated by Dall-e"><figcaption>
      <p>Generated by <a href="https://labs.openai.com/s/wxXrNGBn2waq9Un2LZxXNeGv">Dall-e</a></p>
    </figcaption>
</figure>

<h1 id="why-java-stream">Why Java Stream?</h1>
<p>Since its introduction in Java 8, Stream has become more and more the preferred way of processing collection. But some of its APIs, are complicated and hard to understand, especially those of <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html">Collector</a> and those for <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-">reduction</a>.</p>
<p>I dare say that even experienced Java Stream users may still find them intimidating. Despite using it for several years and having prior experience with Stream-like operations in other programming languages, I still occasionally find some Stream-related tasks challenging.</p>
<p>Devising solutions in Stream operations does not come easy for those used to the ‘old’ ways of iterating through collections. That makes Stream a useful tool in designing interview questions.</p>
<h1 id="requirement">Requirement</h1>
<p>Given a list of integers, returns a list of positive numbers from the first elements until and excluding the first non-positive number in the original list</p>
<p>Example:</p>
<ul>
<li>Given <code>1, 2, 3, -1, 4, 5</code> , you should return <code>1, 2, 3</code></li>
<li>Given <code>0, 4, 3, -3</code> , you should return an empty list</li>
<li>Given an empty list, you should return an empty list</li>
</ul>
<p>Extra: Implement <code>takeWhile(positive)</code> method using other Stream operations</p>
<h1 id="discussion">Discussion</h1>
<p><code>takeWhile(Predicate)</code> (and its cousin<code>dropWhile(...)</code>) is a <em>stateful</em> intermediate method. The maintenance of state is necessary to implement such an operation</p>
<p><code>takeWhile</code> is essentially a filtering mechanism where elements are accepted so long as the predicate is still <code>true</code>. Once the predicate results in <code>false</code>, all subsequence elements are dropped from the stream. The implementation needs to maintain the correct filtering state, before and after the change of the predicate result event.</p>
<h1 id="imperative-solution">Imperative Solution</h1>
<p>A simple imperative solution would look like this below</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">takeWhilePositive</span>(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result.<span style="color:#008080">add</span>(i);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">break</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>result;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>However, it takes advantage of implicit state management by loop control. Let’s look at how the next solution manages the state:</p>
<pre tabindex="0"><code>    public List&lt;Integer&gt; takeWhilePositive(List&lt;Integer&gt; integers) {  
        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();  
        boolean takeIn = true;  
  
        for (int i : integers) {  
            if (takeIn &amp;&amp; i &gt; 0) {  
                result.add(i);  
            } else takeIn = false;  
        }  
        return result;  
    }
</code></pre><p>The variable <code>takeIn</code> is <code>true</code> from the beginning until the very first non-positive element and remain <code>false</code> until the end. Once the change happens, the resulting list <code>result</code> stops collecting elements.</p>
<h1 id="stream-based-solutions">Stream-based Solutions</h1>
<p><strong>A Stream-based solution can be derived based on the above loop-based codes.</strong></p>
<p>Stream’s <code>forEach</code> provides an obvious alternative to <code>for (Integer i : ints)</code>.</p>
<p>Due to stream’s requirement of referenced local variable being <code>final</code> or effective final, the <code>boolean takeIn = true</code>must be replaced by an object whose mutable state represents the binary boolean values. A simple workaround is to declare a<code>Map&lt;String, Boolean&gt; takeInFlag = new HashMap&lt;&gt;()</code> in which the value of the<code>&quot;takekIn”</code> key tells us if<code>takeIn</code> is true.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">takeWhilePositive</span>(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Map<span style="color:#000;font-weight:bold">&lt;</span>String,<span style="color:#bbb"> </span>Boolean<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeInFlag<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">true</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>integers.<span style="color:#008080">stream</span>().<span style="color:#008080">forEach</span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(takeInFlag.<span style="color:#008080">get</span>(<span style="color:#d14">&#34;takeIn&#34;</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>result.<span style="color:#008080">add</span>(i);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb"> </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>});<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>result;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p><strong>We should make use of other Stream operations like</strong> <code>**filter(...)**</code> <strong>and</strong> <code>**collect(...)**</code> <strong>however.</strong></p>
<p>The next solution uses <code>filter</code> to keep track of the state and to enforce the filtering logic</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">takeWhilePositive</span>(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Map<span style="color:#000;font-weight:bold">&lt;</span>String,<span style="color:#bbb"> </span>Boolean<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeInFlag<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">true</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">stream</span>()<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">filter</span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(takeInFlag.<span style="color:#008080">get</span>(<span style="color:#d14">&#34;takeIn&#34;</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">true</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>})<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">collect</span>(Collectors.<span style="color:#008080">toList</span>());<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>Another alternative is having another method (e.g. <code>map</code>) mutating the state followed by <code>filter</code> enforcing it. Since <code>map(...)</code> has to return something, we can return <code>null</code> when state changes and having a <code>.filter(Objects::nonNull)</code> afterward to drop all ineligible <code>null</code> elements</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">takeWhilePositive</span>(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>ArrayList<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Map<span style="color:#000;font-weight:bold">&lt;</span>String,<span style="color:#bbb"> </span>Boolean<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeInFlag<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap<span style="color:#000;font-weight:bold">&lt;&gt;</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">true</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">stream</span>()<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">map</span>(<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(takeInFlag.<span style="color:#008080">get</span>(<span style="color:#d14">&#34;takeIn&#34;</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>i;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>takeInFlag.<span style="color:#008080">put</span>(<span style="color:#d14">&#34;takeIn&#34;</span>,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">false</span>);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">null</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>})<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">filter</span>(Objects::nonNull)<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">collect</span>(Collectors.<span style="color:#008080">toList</span>());<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h1 id="non-boolean-approach">Non-boolean Approach</h1>
<p>A non-boolean-state alternative involves 2 steps:</p>
<ul>
<li>Identify the exact first point where state changes</li>
<li>Extract all the elements leading (but excluding) to that point</li>
</ul>
<p>A fixed list can afford us such a look-ahead. Here is a loop-based solution:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeWhilePositive<span style="color:#000;font-weight:bold">-</span>loopSublist(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>firstNonPositiveIdx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span>1;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">size</span>();<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(integers.<span style="color:#008080">get</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>firstNonPositiveIdx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>i;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">break</span>;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(firstNonPositiveIdx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>0)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">subList</span>(0,<span style="color:#bbb"> </span>firstNonPositiveIdx);<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>and its Stream-based cousins</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeWhilePositive<span style="color:#000;font-weight:bold">-</span>streamLimit(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">var</span><span style="color:#bbb"> </span>firstNonPositiveIdx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>IntStream.<span style="color:#008080">range</span>(0,<span style="color:#bbb"> </span>integers.<span style="color:#008080">size</span>())<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">filter</span>(idx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">get</span>(idx)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>0)<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">findFirst</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(firstNonPositiveIdx.<span style="color:#008080">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">stream</span>()<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">limit</span>(firstNonPositiveIdx.<span style="color:#008080">getAsInt</span>())<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">collect</span>(Collectors.<span style="color:#008080">toList</span>());<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>takeWhilePositive<span style="color:#000;font-weight:bold">-</span>streamSubList(List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>integers)<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">var</span><span style="color:#bbb"> </span>firstNonPositiveIdx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>IntStream.<span style="color:#008080">range</span>(0,<span style="color:#bbb"> </span>integers.<span style="color:#008080">size</span>())<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">filter</span>(idx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">get</span>(idx)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>0)<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>.<span style="color:#008080">findFirst</span>();<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(firstNonPositiveIdx.<span style="color:#008080">isEmpty</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers;<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>integers.<span style="color:#008080">subList</span>(0,<span style="color:#bbb"> </span>firstNonPositiveIdx.<span style="color:#008080">getAsInt</span>());<span style="color:#bbb">  
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h1 id="sample-codes">Sample Codes</h1>
<p>Checkout sample <a href="https://github.com/geraldnguyen/coding-test-stream-takeWhile/blob/main/src/main/java/TakeWhile.java">solutions</a> and <a href="https://github.com/geraldnguyen/coding-test-stream-takeWhile/blob/main/src/test/java/TakeWhileTest.java">tests</a> in my <a href="https://github.com/geraldnguyen/coding-test-stream-takeWhile">GitHub</a></p>

  
  
  <div class="tags-list">
    <ul>
        <li><a href="/tags/java/">Java</a></li>
        <li><a href="/tags/stream/">Stream</a></li>
        <li><a href="/tags/interview/">Interview</a></li>
        <li><a href="/tags/coding-test/">Coding Test</a></li>
    </ul>
  </div>


    </div>
    
  </main>
  <footer>
    <p>Copyright 2024. All rights reserved.</p>

  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>
