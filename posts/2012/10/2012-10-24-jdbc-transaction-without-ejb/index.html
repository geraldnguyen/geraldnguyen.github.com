<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">

 

  


<title>JDBC Transaction Without EJB</title>
<meta data-rh="true" property="og:url" content="https://geraldnguyen.github.io/posts/2012/10/2012-10-24-jdbc-transaction-without-ejb/">
<meta data-rh="true" property="og:title" content="JDBC Transaction Without EJB">
<meta data-rh="true" name="description" content="">
<meta data-rh="true" property="og:site_name" content="Gerald Nguyen">
<meta data-rh="true" property="og:description" content="">
<meta data-rh="true" name="twitter:description" content="">
<meta data-rh="true" property="al:web:url" content="https://geraldnguyen.github.io/posts/2012/10/2012-10-24-jdbc-transaction-without-ejb/">
<meta data-rh="true" property="og:type" content="article">


  <meta property="og:image" content="https://geraldnguyen.github.io/geraldnguyen-profile.jpg" data-rh="true">




      <link rel="stylesheet" href="/css/main.min.c26f43265fe59e08f5f7f91bc6df440219638e2c9ed43736fd053a50a9963e69.css" integrity="sha256-wm9DJl/lngj19/kbxt9EAhljjiye1Dc2/QU6UKmWPmk=" crossorigin="anonymous">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



      <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>


</head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HRKMT2G8N9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HRKMT2G8N9');
</script>

<body class="container-xxl">
  <div class="top-menu">
    
  <nav>
    <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/pages/about/">About</a>
    </li>
    </ul>
  </nav>

  </div>

  <header>
    <div class="header-content">
      


  <div class="categories-list">
    <ul>
        <li><a href="/categories/software-development/">Software Development</a></li>
    </ul>
  </div>


<h1>JDBC Transaction Without EJB</h1>

<h2 class="subtitle">EJB 3 is simple enough that delegating transaction management to it only cost little in creating and annotating an EJB business interface method. However, if you want to skip EJB altogether yet ensure all queries get executed inside a transaction, here’s a quick way</h2>





<div class="story-profile-brief d-flex flex-row">
  <div class="me-2">
    
    <img alt="Gerald Nguyen" class="profile-thumbnail rounded-circle"
          src="https://geraldnguyen.github.io/geraldnguyen-profile-thumbnail.jpg" width="44"
          height="44" loading="lazy" data-testid="authorPhoto">
    
  </div>
  <div>
    <div>
      <a rel="noopener follow" href="https://geraldnguyen.github.io/">
        Gerald Nguyen
      </a>
    </div>
    <div>
      <span>1 min read</span>
      <span>·</span>
      <span><time datetime="2012-10-24T09:19:42&#43;01:00">October 24, 2012</time></span>
    </div>
  </div>
            
</div>  


    </div>
    <div class="header-nav">
      
  
  <a href="/posts/2012/08/2012-08-25-jsr303-bean-validation-custom-constraints/">Previous</a>
  
  <span> | </span>
  
  <a href="/posts/2012/12/2012-12-20-jsr303-bean-validation-self-validating-bean/">Next</a>
  


    </div>
    
  </header>

  <main>
    <div class="bd-toc">
      
  <div class="toc-header">On this page</div>
  <nav id="TableOfContents"></nav>

    </div>
    <div class="bd-main">
      

  <ol>
<li>Create a DAO method in which you set JDBC connection’s auto-commit property to false</li>
</ol>
<pre tabindex="0"><code>dbConn.setAutoCommit(false);
</code></pre><ol start="2">
<li>Execute all your queries</li>
</ol>
<pre tabindex="0"><code>stmt = dbConn.createStatement();

result = stmt.executeQuery(query);

stmt.executeUpdate(update);
</code></pre><ol start="3">
<li>Commit or rollback the transaction</li>
</ol>
<pre tabindex="0"><code>dbConn.commit();
</code></pre><ol start="4">
<li>Reset auto-commit to true again for other execution</li>
</ol>
<pre tabindex="0"><code>dbConn.setAutoCommit(true);
</code></pre><p>This is really simple, as it should be for something purely mechanical. The challenge for every programmer is how to write your transaction code or order your queries such that you can achieve desired result.</p>

  
  
  <div class="tags-list">
    <ul>
        <li><a href="/tags/java/">Java</a></li>
        <li><a href="/tags/transaction/">Transaction</a></li>
        <li><a href="/tags/jdbc/">Jdbc</a></li>
        <li><a href="/tags/old-blog/">Old Blog</a></li>
    </ul>
  </div>


    </div>
    
  </main>
  <footer>
    <p>Copyright 2024. All rights reserved.</p>

  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>
