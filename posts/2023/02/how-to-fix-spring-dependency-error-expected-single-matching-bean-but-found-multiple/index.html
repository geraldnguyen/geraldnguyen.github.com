<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">

 

  


<title>How to fix Spring dependency error: &#39;expected single matching bean but found X&#39;</title>
<meta data-rh="true" property="og:url" content="https://geraldnguyen.github.io/posts/2023/02/how-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple/">
<meta data-rh="true" property="og:title" content="How to fix Spring dependency error: &#39;expected single matching bean but found X&#39;">
<meta data-rh="true" name="description" content="">
<meta data-rh="true" property="og:site_name" content="Gerald Nguyen">
<meta data-rh="true" property="og:description" content="">
<meta data-rh="true" name="twitter:description" content="">
<meta data-rh="true" property="al:web:url" content="https://geraldnguyen.github.io/posts/2023/02/how-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple/">
<meta data-rh="true" property="og:type" content="article">





      <link rel="stylesheet" href="/css/main.min.6ce54da4156f5e5e5b42ea0c1353bcad2437bd20e05f4dbf06c06a8e6f55b884.css" integrity="sha256-bOVNpBVvXl5bQuoME1O8rSQ3vSDgX02/BsBqjm9VuIQ=" crossorigin="anonymous">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



      <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>


</head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HRKMT2G8N9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HRKMT2G8N9');
</script>

<body class="container-xxl">
  <div class="top-menu">
    
  <nav>
    <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/posts/2023/02/web-application-development-introductory-course/">Course: WebApp Development</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/pages/about/">About</a>
    </li>
    </ul>
  </nav>

  </div>

  <header>
    <div class="header-content">
      


  <div class="categories-list">
    <ul>
        <li><a href="/categories/software-development/">Software Development</a></li>
    </ul>
  </div>


<h1>How to fix Spring dependency error: &#39;expected single matching bean but found X&#39;</h1>

<h2 class="subtitle">From beginner to advanced, learn 5 ways to tackle this error</h2>





<div class="story-profile-brief d-flex flex-row">
  <div class="me-2">
    
    <img alt="Gerald Nguyen" class="profile-thumbnail rounded-circle"
          src="https://geraldnguyen.github.io/geraldnguyen-profile-thumbnail.jpg" width="44"
          height="44" loading="lazy" data-testid="authorPhoto">
    
  </div>
  <div>
    <div>
      <a rel="noopener follow" href="https://geraldnguyen.github.io/">
        Gerald Nguyen
      </a>
    </div>
    <div>
      <span>6 min read</span>
      <span>·</span>
      <span><time datetime="2023-02-06T00:00:00&#43;01:00">February 6, 2023</time></span>
    </div>
  </div>
            
</div>


    </div>
    <div class="header-nav">
      
  
  <a href="/posts/2023/02/where-do-you-see-yourself-in-5-years/">Previous</a>
  
  <span> | </span>
  
  <a href="/posts/2023/02/web-application-development-introductory-course/">Next</a>
  

  
  <div>
    <span> ↗ </span>  <a href="https://levelup.gitconnected.com/how-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple-b93f4c950824" target="_blank">Also on Medium</a>
  </div>
  
  

  


    </div>
    
  </header>

  <main>
    <div class="bd-toc">
      
  <div class="toc-header">On this page</div>
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#the-error-expected-single-matching-bean-but-found-x">The Error: “expected single matching bean but found X”</a></li>
        <li><a href="#solution-1--designate-a-primary-bean">Solution #1 — Designate a Primary Bean</a></li>
        <li><a href="#solution-2-be-specific-with-qualifier-annotation">Solution #2— Be specific with <code>@Qualifier</code> Annotation</a></li>
        <li><a href="#solution-3-accepting-multiple-beans">Solution #3 —Accepting Multiple Beans</a></li>
        <li><a href="#solution-4--explicit-bean-configuration">Solution #4 — Explicit Bean Configuration</a></li>
        <li><a href="#advanced-solution-5--feature-switching">(Advanced) Solution #5 — Feature Switching</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>

    </div>
    <div class="bd-main">
      

  <figure><img src="https://miro.medium.com/v2/resize:fit:1100/format:webp/0*bHk8jRkL7cnE4wPi"
    alt="Photo by R. Mac Wheeler on Unsplash"><figcaption>
      <p>Photo by R. Mac Wheeler on Unsplash</p>
    </figcaption>
</figure>

<p>TL;DR</p>
<ol>
<li>Designate a <code>@Primary</code> bean</li>
<li>Be specific with <code>@Qualifier</code></li>
<li>Accepting multiple beans</li>
<li>Explicit Bean configuration</li>
<li>(Advanced) Feature Switching</li>
</ol>
<p>Sample codes: <a href="https://github.com/geraldnguyen/sample-spring-core/tree/dependency/multiple-beans">https://github.com/geraldnguyen/sample-spring-core/tree/dependency/multiple-beans</a></p>
<hr>
<h2 id="the-error-expected-single-matching-bean-but-found-x">The Error: “expected single matching bean but found X”</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along</p></blockquote>
<p>We have a simple Spring boot application setup:</p>
<figure><img src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*mp-BxqWBd50XcRtnXIEG9A.png">
</figure>

<ul>
<li><code>SearchService</code>: the interface for search operations</li>
<li><code>BingSearch</code>: an implementation of SearchService</li>
<li><code>GoogleSearch</code>: an implementation of SearchService</li>
<li><code>SearchController</code>: a consumer of <code>SearchService</code> and a convenient entry point for our testing</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#57606a">// SearchService: the interface for search operations</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">interface</span> <span style="color:#1f2328">SearchService</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">);</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a">// BingSearch: an implementation of SearchService</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Service</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">BingSearch</span><span style="color:#fff"> </span><span style="color:#cf222e">implements</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Override</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span><span style="color:#cf222e">new</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#1f2328">{</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;Bing sample result&#34;</span><span style="color:#fff"> </span><span style="color:#1f2328">};</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a">// GoogleSearch: an implementation of SearchService</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Service</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">GoogleSearch</span><span style="color:#fff"> </span><span style="color:#cf222e">implements</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Override</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span><span style="color:#cf222e">new</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#1f2328">{</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;Google sample result&#34;</span><span style="color:#fff"> </span><span style="color:#1f2328">};</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a">// SearchController: a consumer of SearchService and a convenient entry point for our testing</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@RestController</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@RequestMapping</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;/search/&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchController</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span>searchService<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@GetMapping</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span><span style="color:#0550ae">@RequestParam</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;query&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff"> </span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span>searchService<span style="color:#1f2328">.</span><span style="color:#1f2328">search</span><span style="color:#1f2328">(</span>query<span style="color:#1f2328">);</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>When starting the application, you will encounter the error:</p>
<pre tabindex="0"><code>UnsatisfiedDependencyException: Error creating bean with name &#39;searchController&#39;: Unsatisfied dependency expressed through field &#39;searchService&#39;: No qualifying bean of type &#39;nguyen.gerald.samples.spring.core.service.search.SearchService&#39; available: expected single matching bean but found 2: bingSearch,googleSearch
</code></pre><pre tabindex="0"><code>
023-02-02T23:40:32.430+08:00  WARN 42400 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;searchController&#39;: Unsatisfied dependency expressed through field &#39;searchService&#39;: No qualifying bean of type &#39;nguyen.gerald.samples.spring.core.service.search.SearchService&#39; available: expected single matching bean but found 2: bingSearch,googleSearch
2023-02-02T23:40:32.436+08:00  INFO 42400 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-02-02T23:40:32.457+08:00  INFO 42400 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.
2023-02-02T23:40:32.481+08:00 ERROR 42400 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field searchService in nguyen.gerald.samples.spring.core.api.SearchController required a single bean, but 2 were found:
 - bingSearch: defined in file [C:\Users\huy_n\workspace\samples\spring\core\target\classes\nguyen\gerald\samples\spring\core\service\search\BingSearch.class]
 - googleSearch: defined in file [C:\Users\huy_n\workspace\samples\spring\core\target\classes\nguyen\gerald\samples\spring\core\service\search\GoogleSearch.class]


Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

Disconnected from the target VM, address: &#39;127.0.0.1:62797&#39;, transport: &#39;socket&#39;

Process finished with exit code 1te
</code></pre><p>Because both <code>GoogleSearch</code> and <code>BingSearch</code> implements <code>SearchService</code>, Spring was unable to determine which implementation should be returned to <code>SearchController</code>, hence it throws the above error.</p>
<hr>
<h2 id="solution-1--designate-a-primary-bean">Solution #1 — Designate a Primary Bean</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans-solution-primary</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along. You can also preview the changes <a href="https://github.com/geraldnguyen/sample-spring-core/compare/dependency/multiple-beans...dependency/multiple-beans-solution-primary">here</a></p></blockquote>
<p>This is the simplest solution. We can designate either implementation, e.g. <code>GoogleSearch</code>, as the primary <code>SearchService</code> implementation by applying the <code>@Primary</code> annotation to the implementation, i.e. <code>GoogleSearch</code>, class:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#0550ae">@Primary</span><span style="color:#fff">  </span><span style="color:#57606a">// &lt;-- this is the only change</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Service</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">GoogleSearch</span><span style="color:#fff"> </span><span style="color:#cf222e">implements</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Override</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span><span style="color:#cf222e">new</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#1f2328">{</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;Google sample result&#34;</span><span style="color:#fff"> </span><span style="color:#1f2328">};</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Let’s start our application. The error should be no more and we are able to access mocked Google search result at <a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
<figure><img src="https://miro.medium.com/v2/resize:fit:455/1*fd8RC1jDGHE9TntlEfZZiA.png"
    alt="http://localhost:8080/search/?query=hello"><figcaption>
      <p><a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
    </figcaption>
</figure>

<hr>
<h2 id="solution-2-be-specific-with-qualifier-annotation">Solution #2— Be specific with <code>@Qualifier</code> Annotation</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans-solution-qualifier</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along. You can also preview the changes <a href="https://github.com/geraldnguyen/sample-spring-core/compare/dependency/multiple-beans...dependency/multiple-beans-solution-qualifier">here</a></p></blockquote>
<p>This is just as simple. We can specify which <code>SearchService</code> to use by applying <code>@Qualifier</code> annotation to the dependency property (or parameter if you use constructor injection):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#0550ae">@RestController</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@RequestMapping</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;/search/&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchController</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Qualifier</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;bingSearch&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff">      </span><span style="color:#57606a">// &lt;-- this is the only change</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span>searchService<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@GetMapping</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span><span style="color:#0550ae">@RequestParam</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;query&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff"> </span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span>searchService<span style="color:#1f2328">.</span><span style="color:#1f2328">search</span><span style="color:#1f2328">(</span>query<span style="color:#1f2328">);</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Let’s start our application. The error should be no more and we are able to access mocked Bing search result at <a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
<figure><img src="https://miro.medium.com/v2/resize:fit:458/1*aY6_yUcKDJeAju5gZY7Ibw.png"
    alt="http://localhost:8080/search/?query=hello"><figcaption>
      <p><a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
    </figcaption>
</figure>

<hr>
<h2 id="solution-3-accepting-multiple-beans">Solution #3 —Accepting Multiple Beans</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans-accepting-multiple</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along. You can also preview the changes <a href="https://github.com/geraldnguyen/sample-spring-core/compare/dependency/multiple-beans...dependency/multiple-beans-accepting-multiple">here</a></p></blockquote>
<p>The <code>SearchController</code> can accept multiple beans and use them as it wishes. The following example has it pick the bean at index 0 to use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#0550ae">@RestController</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@RequestMapping</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;/search/&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchController</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>SearchService<span style="color:#0550ae">[]</span><span style="color:#fff"> </span>searchServices<span style="color:#1f2328">;</span><span style="color:#fff"> </span><span style="color:#57606a">// &lt;-- accepting multiple</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@GetMapping</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span><span style="color:#0550ae">@RequestParam</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;query&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff"> </span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span>searchServices<span style="color:#0550ae">[</span>0<span style="color:#0550ae">]</span><span style="color:#1f2328">.</span><span style="color:#1f2328">search</span><span style="color:#1f2328">(</span>query<span style="color:#1f2328">);</span><span style="color:#fff">  </span><span style="color:#57606a">// &lt;-- pick the first one to use</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>This solution is more suited toward aggregation use cases where, for example, the API sends the user’s query to multiple search engines and aggregates their individual responses before returning to the user.</p>
<hr>
<h2 id="solution-4--explicit-bean-configuration">Solution #4 — Explicit Bean Configuration</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans-configuration</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along. You can also preview the changes <a href="https://github.com/geraldnguyen/sample-spring-core/compare/dependency/multiple-beans...dependency/multiple-beans-configuration">here</a></p></blockquote>
<p>In this approach, we explicitly pick an implementation in an external configuration class. The benefit of this approach is that we can leave the consumer, interface, and implementation unmodified. This is useful when you want to keep the configuration details out of the business logic, especially so when you do not have access to the source codes of consumer and service classes.</p>
<figure><img src="https://miro.medium.com/v2/resize:fit:304/1*fLtS2lJxMkdT1vdNfNmazA.png"
    alt="External configuration within SearchConfig"><figcaption>
      <p>External configuration within <code>SearchConfig</code></p>
    </figcaption>
</figure>

<p>External configuration within <code>SearchConfig</code> can be as trivial as the following:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#0550ae">@Configuration</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchConfig</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>GoogleSearch<span style="color:#fff"> </span>googleSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>BingSearch<span style="color:#fff"> </span>bingSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Bean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#6639ba">searchService</span><span style="color:#1f2328">()</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span>googleSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Or we can add an enable/disable toggle capability to make our application more flexible and more externally driven. Even though we define a property <code>google-search.enabled</code> in the <code>application.properties</code>, it needs not be declared so because Springboot supports multiple modes of <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config">external configurations</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#57606a">// SearchConfig.java</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Configuration</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchConfig</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>GoogleSearch<span style="color:#fff"> </span>googleSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>BingSearch<span style="color:#fff"> </span>bingSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Bean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#6639ba">searchService</span><span style="color:#1f2328">(</span><span style="color:#0550ae">@Value</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;${google-search.enabled:false}&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#cf222e">boolean</span><span style="color:#fff"> </span>enableGoogleSearch<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span>enableGoogleSearch<span style="color:#fff"> </span><span style="color:#0550ae">?</span><span style="color:#fff"> </span>googleSearch<span style="color:#fff"> </span><span style="color:#1f2328">:</span><span style="color:#fff"> </span>bingSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a">// application.properties</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span>google<span style="color:#0550ae">-</span>search<span style="color:#1f2328">.</span><span style="color:#1f2328">enabled</span><span style="color:#0550ae">=</span><span style="color:#cf222e">true</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Let’s start our application. We are able to access the mocked Google search result at <a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
<figure><img src="https://miro.medium.com/v2/resize:fit:455/1*fd8RC1jDGHE9TntlEfZZiA.png"
    alt="http://localhost:8080/search/?query=hello"><figcaption>
      <p><a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
    </figcaption>
</figure>

<hr>
<h2 id="advanced-solution-5--feature-switching">(Advanced) Solution #5 — Feature Switching</h2>
<blockquote>
<p>Checkout the branch <code>dependency/multiple-beans-feature-switch</code> from <a href="https://github.com/geraldnguyen/sample-spring-core">https://github.com/geraldnguyen/sample-spring-core</a> to follow along. You can also preview the changes <a href="https://github.com/geraldnguyen/sample-spring-core/compare/dependency/multiple-beans...dependency/multiple-beans-feature-switch">here</a></p></blockquote>
<p>The previous solution works well if we only have to choose either Google or Bing. But it will not scale when we have 3 or more options. Feature switching is a much better solution.</p>
<p>Let’s have <code>YahooSearch</code> enter the competition:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#57606a">// YahooSearch.java</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Service</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">YahooSearch</span><span style="color:#fff"> </span><span style="color:#cf222e">implements</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Override</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#fff"> </span><span style="color:#6639ba">search</span><span style="color:#1f2328">(</span>String<span style="color:#fff"> </span>query<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span><span style="color:#cf222e">new</span><span style="color:#fff"> </span>String<span style="color:#0550ae">[]</span><span style="color:#1f2328">{</span><span style="color:#fff"> </span><span style="color:#0a3069">&#34;Yahoo sample result&#34;</span><span style="color:#fff"> </span><span style="color:#1f2328">};</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span></code></pre></div><p>Implementing feature switching requires only 3 steps:</p>
<ul>
<li>We will define a <code>SearchProvider</code> enum with the names of all supported search providers.</li>
<li>Then we configure <code>search.provider=&lt;a name&gt;</code> in <code>application.properties</code> (or one of the supported <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config">external configurations</a> modes).</li>
<li>Then we read the configured <code>search.provider</code> value as a parameter in our <code>@Bean</code> configuration and return the search provider corresponding to that parameter.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#57606a">// SearchConfig.java</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#0550ae">@Configuration</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#cf222e">public</span><span style="color:#fff"> </span><span style="color:#cf222e">class</span> <span style="color:#1f2328">SearchConfig</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">enum</span><span style="color:#fff"> </span>SearchProvider<span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff"> </span>GOOGLE<span style="color:#1f2328">,</span><span style="color:#fff"> </span>BING<span style="color:#1f2328">,</span><span style="color:#fff"> </span>YAHOO<span style="color:#fff"> </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>GoogleSearch<span style="color:#fff"> </span>googleSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>BingSearch<span style="color:#fff"> </span>bingSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Autowired</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">private</span><span style="color:#fff"> </span>YahooSearch<span style="color:#fff"> </span>yahooSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#0550ae">@Bean</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#cf222e">public</span><span style="color:#fff"> </span>SearchService<span style="color:#fff"> </span><span style="color:#6639ba">searchService</span><span style="color:#1f2328">(</span><span style="color:#0550ae">@Value</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;${search.provider:BING}&#34;</span><span style="color:#1f2328">)</span><span style="color:#fff"> </span>SearchProvider<span style="color:#fff"> </span>provider<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#cf222e">return</span><span style="color:#fff"> </span><span style="color:#cf222e">switch</span><span style="color:#fff"> </span><span style="color:#1f2328">(</span>provider<span style="color:#1f2328">)</span><span style="color:#fff"> </span><span style="color:#1f2328">{</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">            </span><span style="color:#cf222e">case</span><span style="color:#fff"> </span>BING<span style="color:#fff"> </span><span style="color:#0550ae">-&gt;</span><span style="color:#fff"> </span>bingSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">            </span><span style="color:#cf222e">case</span><span style="color:#fff"> </span>YAHOO<span style="color:#fff"> </span><span style="color:#0550ae">-&gt;</span><span style="color:#fff"> </span>yahooSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">            </span><span style="color:#cf222e">default</span><span style="color:#fff"> </span><span style="color:#0550ae">-&gt;</span><span style="color:#fff"> </span>googleSearch<span style="color:#1f2328">;</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">        </span><span style="color:#1f2328">};</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">    </span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#1f2328">}</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span><span style="color:#57606a">// application.properties</span><span style="color:#fff">
</span></span></span><span style="display:flex;"><span><span style="color:#fff"></span>search<span style="color:#1f2328">.</span><span style="color:#1f2328">provider</span><span style="color:#0550ae">=</span>YAHOO<span style="color:#fff">
</span></span></span></code></pre></div><p>Let’s start our application. We are able to access the mocked Yahoo search result at <a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
<figure><img src="https://miro.medium.com/v2/resize:fit:454/1*BQJ7pVTgdChaLOxjuEnRhg.png"
    alt="http://localhost:8080/search/?query=hello"><figcaption>
      <p><a href="http://localhost:8080/search/?query=hello">http://localhost:8080/search/?query=hello</a></p>
    </figcaption>
</figure>

<hr>
<h1 id="conclusion">Conclusion</h1>
<p>In this article, we have learned 5 different ways to resolve the expected-single-matching-bean-but-found-multiple error with code samples and easy-to-follow steps.</p>
<p>If you have enjoyed this tutorial, please <a href="https://geraldnguyen.medium.com/subscribe">subscribe</a> to get my latest article delivered to your email. Thank you.</p>

  
  
  <div class="tags-list">
    <ul>
        <li><a href="/tags/spring/">Spring</a></li>
        <li><a href="/tags/dependency-injection/">Dependency Injection</a></li>
        <li><a href="/tags/java/">Java</a></li>
        <li><a href="/tags/beginner/">Beginner</a></li>
        <li><a href="/tags/advanced/">Advanced</a></li>
        <li><a href="/tags/medium/">Medium</a></li>
    </ul>
  </div>


  
  




<div class="social-sharing">
  <div class="social-sharing-label">Share this article:</div>
  <div class="social-sharing-buttons">
    
    <a class="social-share-btn twitter" 
       href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fgeraldnguyen.github.io%2Fposts%2F2023%2F02%2Fhow-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple%2F&text=How&#43;to&#43;fix&#43;Spring&#43;dependency&#43;error%3A&#43;%27expected&#43;single&#43;matching&#43;bean&#43;but&#43;found&#43;X%27&via=geraldnguyensg"
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Share on Twitter/X">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
      </svg>
      <span>Twitter</span>
    </a>

    
    <a class="social-share-btn linkedin" 
       href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fgeraldnguyen.github.io%2Fposts%2F2023%2F02%2Fhow-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple%2F"
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Share on LinkedIn">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
      </svg>
      <span>LinkedIn</span>
    </a>

    
    <a class="social-share-btn facebook" 
       href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fgeraldnguyen.github.io%2Fposts%2F2023%2F02%2Fhow-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple%2F"
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Share on Facebook">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/>
      </svg>
      <span>Facebook</span>
    </a>

    
    <a class="social-share-btn reddit" 
       href="https://reddit.com/submit?url=https%3A%2F%2Fgeraldnguyen.github.io%2Fposts%2F2023%2F02%2Fhow-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple%2F&title=How&#43;to&#43;fix&#43;Spring&#43;dependency&#43;error%3A&#43;%27expected&#43;single&#43;matching&#43;bean&#43;but&#43;found&#43;X%27"
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Share on Reddit">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/>
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224c-.02.115-.029.23-.029.353 0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/>
      </svg>
      <span>Reddit</span>
    </a>

    
    <a class="social-share-btn email" 
       href="mailto:?subject=How&#43;to&#43;fix&#43;Spring&#43;dependency&#43;error%3A&#43;%27expected&#43;single&#43;matching&#43;bean&#43;but&#43;found&#43;X%27&body=I thought you might find this interesting: https%3A%2F%2Fgeraldnguyen.github.io%2Fposts%2F2023%2F02%2Fhow-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple%2F"
       aria-label="Share via Email">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
      </svg>
      <span>Email</span>
    </a>

    
    <button class="social-share-btn copy-link" 
            onclick="copyToClipboard('https:\/\/geraldnguyen.github.io\/posts\/2023\/02\/how-to-fix-spring-dependency-error-expected-single-matching-bean-but-found-multiple\/')"
            aria-label="Copy link">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/>
        <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/>
      </svg>
      <span>Copy Link</span>
    </button>
  </div>
</div>

<script>
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(function() {
    
    const btn = event.target.closest('.copy-link');
    const originalText = btn.querySelector('span').textContent;
    btn.querySelector('span').textContent = 'Copied!';
    setTimeout(() => {
      btn.querySelector('span').textContent = originalText;
    }, 2000);
  }, function(err) {
    console.error('Could not copy text: ', err);
  });
}
</script>


  <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "geraldnguyen" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
    
  </main>
  <footer>
    <p>Copyright 2025. All rights reserved.</p>

  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>
