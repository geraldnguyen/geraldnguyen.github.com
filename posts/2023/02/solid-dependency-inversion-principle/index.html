<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">

 

  


<title>SOLID in Action: the Dependency Inversion Principle</title>
<meta data-rh="true" property="og:url" content="https://geraldnguyen.github.io/posts/2023/02/solid-dependency-inversion-principle/">
<meta data-rh="true" property="og:title" content="SOLID in Action: the Dependency Inversion Principle">
<meta data-rh="true" name="description" content="">
<meta data-rh="true" property="og:site_name" content="Gerald Nguyen">
<meta data-rh="true" property="og:description" content="">
<meta data-rh="true" name="twitter:description" content="">
<meta data-rh="true" property="al:web:url" content="https://geraldnguyen.github.io/posts/2023/02/solid-dependency-inversion-principle/">
<meta data-rh="true" property="og:type" content="article">





      <link rel="stylesheet" href="/css/main.min.c26f43265fe59e08f5f7f91bc6df440219638e2c9ed43736fd053a50a9963e69.css" integrity="sha256-wm9DJl/lngj19/kbxt9EAhljjiye1Dc2/QU6UKmWPmk=" crossorigin="anonymous">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">



      <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>


</head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HRKMT2G8N9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HRKMT2G8N9');
</script>

<body class="container-xxl">
  <div class="top-menu">
    
  <nav>
    <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="/">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/pages/about/">About</a>
    </li>
    </ul>
  </nav>

  </div>

  <header>
    <div class="header-content">
      


  <div class="categories-list">
    <ul>
        <li><a href="/categories/software-development/">Software Development</a></li>
    </ul>
  </div>


<h1>SOLID in Action: the Dependency Inversion Principle</h1>

<h2 class="subtitle">Depend upon Abstractions. Do not depend upon concretions.</h2>





<div class="story-profile-brief d-flex flex-row">
  <div class="me-2">
    
    <img alt="Gerald Nguyen" class="profile-thumbnail rounded-circle"
          src="https://geraldnguyen.github.io/geraldnguyen-profile-thumbnail.jpg" width="44"
          height="44" loading="lazy" data-testid="authorPhoto">
    
  </div>
  <div>
    <div>
      <a rel="noopener follow" href="https://geraldnguyen.github.io/">
        Gerald Nguyen
      </a>
    </div>
    <div>
      <span>4 min read</span>
      <span>·</span>
      <span><time datetime="2023-02-21T08:00:00-07:00">February 21, 2023</time></span>
    </div>
  </div>
            
</div>  


    </div>
    <div class="header-nav">
      
  
  <a href="/posts/2023/02/five-minimum-viable-interview-questions-series/">Previous</a>
  
  <span> | </span>
  
  <a href="/posts/2024/05/how-to-join-video-semi-automated/">Next</a>
  


    </div>
    
  </header>

  <main>
    <div class="bd-toc">
      
  <div class="toc-header">On this page</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#the-dependency-inversion-principle-dip">The Dependency Inversion Principle (DIP)</a></li>
    <li><a href="#examples">Examples</a></li>
    <li><a href="#and-misuses">And Misuses</a></li>
    <li><a href="#in-relation-to-the-inversion-of-control">In relation to the Inversion of Control</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>

    </div>
    <div class="bd-main">
      

  <figure><img src="/posts/2023/02/solid-dependency-inversion-principle/0_Uv2de6h1frX8mT2N.jpg"
    alt="Photo by ocd studio on Unsplash"><figcaption>
      <p>Photo by <a href="https://unsplash.com/@ocd_studio?utm_source=medium&amp;utm_medium=referral">ocd studio</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral">Unsplash</a></p>
    </figcaption>
</figure>

<h1 id="the-dependency-inversion-principle-dip">The Dependency Inversion Principle (DIP)</h1>
<p>Naive application of traditional software development methods (e.g. <a href="https://en.wikipedia.org/wiki/SADT"><strong>SADT</strong></a> or Structured Analysis and Design Technique), in the past, often resulted in a type of relationship where high-level modules depended on lower implementation details. This form of relationship often leads to <a href="https://web.archive.org/web/20110714224327/http://www.objectmentor.com/resources/articles/dip.pdf">rigidity, fragility, and immobility</a>. These are the symptoms of bad design according to <a href="https://en.wikipedia.org/wiki/Robert_C._Martin">Robert C. Martin</a>.</p>
<figure><img src="/posts/2023/02/solid-dependency-inversion-principle/1_RVjxPenHUcH9qZ_AuwwvNQ.png"
    alt="A naive application of top-down approaches can lead to bad design. Source: R.C.M paper"><figcaption>
      <p>A naive application of top-down approaches can lead to bad design. Source: <a href="https://web.archive.org/web/20110714224327/http://www.objectmentor.com/resources/articles/dip.pdf">R.C.M paper</a></p>
    </figcaption>
</figure>

<p>The Dependency Inversion Principle (DIP) means to <em>invert</em> such dependency relationships. Rather than having the relationship flow in one direction and tie upper layers onto implementation details of lower layers, the implementation of the lower layers now inversely points upward to abstraction layers that sit between the upper and lower layers. The benefit of this DIP is the preservation of the benefits of conventional analysis and design techniques plus the flexibility and reusability of abstraction-based object-oriented designs.</p>
<figure><img src="/posts/2023/02/solid-dependency-inversion-principle/1_8mdQPHvwOjBn90I59w7rsQ.png"
    alt="Source: R.C.M paper"><figcaption>
      <p>Source: <a href="https://web.archive.org/web/20110714224327/http://www.objectmentor.com/resources/articles/dip.pdf">R.C.M paper</a></p>
    </figcaption>
</figure>

<p>The above diagram can be summarized as:</p>
<blockquote>
<p>High-level modules should not depend upon low-level modules. Both should depend upon abstractions</p>
<p>Abstractions should not depend upon details. Details should depend upon abstraction</p>
</blockquote>
<h1 id="examples">Examples</h1>
<p>As long as you are considering a dependency where the depended-on component or service can have 2 or more implementations or can be further expanded through inheritance, the DIP can be put to good benefit.</p>
<p>In my <a href="https://geraldnguyen.github.io/posts/2022/12/becoming-a-solid-developer/">Becoming a SOLID developer</a> article, I share 2 examples:</p>
<ul>
<li>An <code>OrderService</code> depends on the interface provided by <code>EmailService</code> and not its IMAP or POP implementation.</li>
</ul>
<figure><img src="/posts/2023/02/solid-dependency-inversion-principle/0_DZQq2UAT2b8NWQpB.png"
    alt="EmailService and its associations"><figcaption>
      <p>EmailService and its associations</p>
    </figcaption>
</figure>

<ul>
<li>An <code>UrbanTripPlanner</code> depends on the abstraction provided by <code>Car</code> , not its Tesla or Toyota implementation</li>
</ul>
<figure><img src="/posts/2023/02/solid-dependency-inversion-principle/0_PAqBR3pZwatDEZYI.png"
    alt="Car and its associations"><figcaption>
      <p>Car and its associations</p>
    </figcaption>
</figure>

<h1 id="and-misuses">And Misuses</h1>
<p>Martin Fowler called out the overuse of interfaces for single-implementation service in his <a href="https://martinfowler.com/bliki/InterfaceImplementationPair.html">Interface Implementation Pair article</a></p>
<blockquote>
<p>The practice of taking every class and pairing it with an interface. So as a result you see pairs of things — maybe ICustomer and Customer or Customer and CustomerImpl…Using interfaces when you aren’t going to have multiple implementations is extra effort to keep everything in sync (although good IDEs help). Furthermore, it hides the cases where you actually do provide multiple implementations.</p>
</blockquote>
<p>Another common misuse in object-oriented programming languages is equating abstraction with interface construct. While interface is a popular way to express abstraction, it is by no means the only way, especially in dynamically typed languages or languages without <code>interface</code> support such as JavaScript or Python. We should rather consider an abstraction from a less concrete perspective. Take the abstraction expressed by the <code>Car</code> class above, for example, it does not have to be an interface to represent an abstraction.</p>
<h1 id="in-relation-to-the-inversion-of-control">In relation to the Inversion of Control</h1>
<blockquote>
<p>IoC is also known as dependency injection (DI). It is a process whereby objects define their dependencies (that is, the other objects they work with) only through constructor arguments, arguments to a factory method, or properties that are set on the object instance after it is constructed or returned from a factory method. The container then injects those dependencies when it creates the bean. This process is fundamentally the inverse (hence the name, Inversion of Control) of the bean itself controlling the instantiation or location of its dependencies by using direct construction of classes or a mechanism such as the Service Locator pattern — <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction</a></p>
</blockquote>
<p>Inversion of Control (IoC) may share the term “inversion” but DIP and IoC are different. The distinction between the 2 concepts is in the purposes of their application. While DIP guides the modeling of relationships between components, the IoC provides ways to assemble the application while respecting the DIP relationship.</p>
<h1 id="conclusion">Conclusion</h1>
<p>We have examined the meaning of the Dependency Inversion Principle and some examples of proper applications as well as misuse. We have also clarified its purposes by comparing it with the IoC principle.</p>


<div class="page-break" role="separator">
  <span class="dot"></span><span class="dot"></span><span class="dot"></span>
</div>
<p>If you like this article, please <a href="https://geraldnguyen.medium.com/subscribe">follow me</a> for more quality content.</p>
<p>Other articles in this series:</p>
<ul>
<li><a href="https://geraldnguyen.github.io/posts/2022/12/becoming-a-solid-developer/">Becoming a SOLID developer</a></li>
<li><a href="https://geraldnguyen.github.io/posts/2022/12/solid-single-responsibility-principle/">SOLID in Action — the Single Responsibility Principle</a></li>
<li><a href="https://geraldnguyen.github.io/posts/2022/12/solid-open-close-principle/">SOLID in Action — the Open-closed principle</a></li>
<li><a href="https://geraldnguyen.github.io/posts/2023/01/solid-liskov-substitution-principle/">SOLID in Action — the Liskov Substitution principle</a></li>
<li><a href="https://geraldnguyen.github.io/posts/2023/01/solid-interface-segregation-principle/">SOLID in Action — the Interface Segregation principle</a></li>
<li><a href="https://geraldnguyen.github.io/posts/2023/02/solid-dependency-inversion-principle/">SOLID in Action — the Dependency Inversion principle</a></li>
</ul>
<p>Thank you.</p>


  
  
  <div class="tags-list">
    <ul>
        <li><a href="/tags/software-engineering/">Software Engineering</a></li>
        <li><a href="/tags/solid-principles/">SOLID Principles</a></li>
        <li><a href="/tags/programming/">Programming</a></li>
        <li><a href="/tags/object-oriented/">Object Oriented</a></li>
        <li><a href="/tags/dependency-inversion/">Dependency Inversion</a></li>
    </ul>
  </div>


    </div>
    
  </main>
  <footer>
    <p>Copyright 2024. All rights reserved.</p>

  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

</body>
</html>
