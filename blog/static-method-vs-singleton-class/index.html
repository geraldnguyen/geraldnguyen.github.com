<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin>
<link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin>
<link rel=stylesheet href=/main.019263ddaa4c64908c00169b256ee3c7a02c980d63654a967976ac3fe5d820f33b6274298397ea7ba47da32f345a49142814c27254f2b1c32535dbb010004d0d.css integrity="sha512-AZJj3apMZJCMABabJW7jx6AsmA1jZUqWeXasP+XYIPM7YnQpg5fqe6R9oy80WkkUKBTCclTyscMlNduwEABNDQ==" crossorigin=anonymous>
<noscript><style>img.lazyload{display:none}</style></noscript>
<meta name=robots content="index, follow">
<meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<title>Static method vs Singleton class - Gerald Nguyen</title>
<meta name=description content="An admirer of (Vulcan) logic, diversity and multidisciplinary approaches">
<link rel=canonical href=/blog/static-method-vs-singleton-class/>
<meta property="og:locale" content>
<meta property="og:type" content="article">
<meta property="og:title" content="Static method vs Singleton class">
<meta property="og:description" content="It really depends. If you hate storing object reference or passing it around, static is a excellent tool.
But remember: static method CANNOT be overridden by sub-classing, it&rsquo;s only hidden. Refer to http://faq.javaranch.com/view?OverridingVsHiding for a simple explanation. (Side note: invoking a static method on a object reference only brings confusion, it&rsquo;s the variable data type that determine which static method&rsquo;s code will execute - remember: hidden, not overridden).
Since static method cannot be overridden, the polymorphism power of OOP is lost, and we fall back to the realm of procedural programming.">
<meta property="og:url" content="/blog/static-method-vs-singleton-class/">
<meta property="og:site_name" content="Gerald Nguyen">
<meta property="article:published_time" content="2011-01-16T09:19:42+01:00">
<meta property="article:modified_time" content="2011-01-16T09:19:42+01:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:site content>
<meta name=twitter:creator content>
<meta name=twitter:title content="Static method vs Singleton class">
<meta name=twitter:description content>
<meta name=twitter:card content="summary">
<meta name=twitter:image:alt content="Static method vs Singleton class">
<script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"/#/schema/person/1","name":"","url":"/","sameAs":[],"image":{"@type":"ImageObject","@id":"/#/schema/image/1","url":"/\u003cnil\u003e","width":null,"height":null,"caption":""}},{"@type":"WebSite","@id":"/#/schema/website/1","url":"/","name":"Gerald Nguyen","description":"An admirer of (Vulcan) logic, diversity and multidisciplinary approaches","publisher":{"@id":"/#/schema/person/1"}},{"@type":"WebPage","@id":"/blog/static-method-vs-singleton-class/","url":"/blog/static-method-vs-singleton-class/","name":"Static method vs Singleton class","description":"","isPartOf":{"@id":"/#/schema/website/1"},"about":{"@id":"/#/schema/person/1"},"datePublished":"2011-01-16T09:19:42CET","dateModified":"2011-01-16T09:19:42CET","breadcrumb":{"@id":"/blog/static-method-vs-singleton-class/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"/blog/static-method-vs-singleton-class/#/schema/image/2"},"inLanguage":"","potentialAction":[{"@type":"ReadAction","target":["/blog/static-method-vs-singleton-class/"]}]},{"@type":"BreadcrumbList","@id":"/blog/static-method-vs-singleton-class/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"/","url":"/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"/blogstatic-method-vs-singleton-class/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"/#/schema/article/1","headline":"Static method vs Singleton class","description":"","isPartOf":{"@id":"/blog/static-method-vs-singleton-class/"},"mainEntityOfPage":{"@id":"/blog/static-method-vs-singleton-class/"},"datePublished":"2011-01-16T09:19:42CET","dateModified":"2011-01-16T09:19:42CET","author":{"@id":"/#/schema/person/2"},"publisher":{"@id":"/#/schema/person/1"},"image":{"@id":"/blog/static-method-vs-singleton-class/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"/#/schema/person/2","name":null,"sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"/blog/static-method-vs-singleton-class/#/schema/image/2","url":null,"contentUrl":null,"caption":"Static method vs Singleton class"}]}]}</script>
<meta name=theme-color content="#fff">
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest crossorigin=use-credentials href=/site.webmanifest>
</head>
<body class="blog single">
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
<div class=container>
<input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=/>Gerald Nguyen</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span>
<span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span>
</button>
<ul class="navbar-nav social-nav order-3 order-md-5">
<li class=nav-item>
<a class=nav-link href=https://github.com/geraldnguyen><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a>
</li>
</ul>
<div class="collapse navbar-collapse order-4 order-md-1">
<ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class="nav-item active">
<a class=nav-link href=/blog/>Blog</a>
</li>
<li class=nav-item>
<a class=nav-link href=/about/>About</a>
</li>
</ul>
<div class="break order-6 d-md-none"></div>
<form class="navbar-form flex-grow-1 order-7 order-md-3">
<input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off>
<div id=suggestions class="shadow bg-white rounded"></div>
</form>
</div>
</div>
</header>
<div class="wrap container" role=document>
<div class=content>
<div class="row justify-content-center">
<div class="col-md-12 col-lg-10 col-xl-8">
<article>
<div class=blog-header>
<h1>Static method vs Singleton class</h1>
<p><small>Posted January 16, 2011 by &nbsp;&dash;&nbsp;<strong>3&nbsp;min read</strong></small><p>
</div>
<p class=lead>Sometimes we write java class that has no state, each of its method is self-sufficient. It's then make sense (convenience, performance gain included) to convert those methods into static. Or, we can apply Singleton pattern on that class. So, which way?</p>
<p>It really depends. If you hate storing object reference or passing it around, static is a excellent tool.</p>
<p>But remember: <code>static</code> method CANNOT be overridden by sub-classing, it&rsquo;s only hidden. Refer to http://faq.javaranch.com/view?OverridingVsHiding for a simple explanation. (Side note: invoking a static method on a object reference only brings confusion, it&rsquo;s the variable data type that determine which static method&rsquo;s code will execute - remember: <strong>hidden</strong>, not overridden).</p>
<p>Since static method cannot be overridden, the polymorphism power of OOP is lost, and we fall back to the realm of procedural programming. Some even complain about the difficult of unit testing with static method.</p>
<p>Singleton, in contrast, preserve the polymorphism of OOP while mimic the behavior of static methods. The only inconvenience is that you must have created and maintain references to the singleton object. In that case, util method can ease pretty much of that inconvenience. But be WARNED, it&rsquo;s not that straightforward.</p>
<p>The most simple way to implement Singleton is, however, not thread-safe:</p>
<pre><code class=language-java>// not thread-safe
public static MySingleton getInstance() {
    if (_instance==null) {
        _instance = new MySingleton();
    }
    return _instance;
}
</code></pre>
<p>Double checking may look clever but it CAN fail and give you hard-to-debug mysterious problem</p>
<pre><code class=language-java>// not safe and CAN fail
public static MySingleton getInstance() {
    if (_instance==null) {
        synchronized (MySingleton.class) { 
            if ((_instance==null) {
                _instance = new MySingleton();
            }
        }
    }
    return _instance;
}
</code></pre>
<p>Only this seems to work:</p>
<pre><code class=language-java>// correct solution
public static synchronized MySingleton getInstance() {
    if (_instance==null) {
        _instance = new MySingleton();
    }
    return _instance;
}
</code></pre>
<p>More information here: http://java.sun.com/developer/technicalArticles/Programming/singletons/</p>
<p>Beside the above, there&rsquo;s a new way to employ Singleton pattern: <strong>Inversion of Control</strong>. IoC such as Spring often creates only 1 instance of any declare bean, such is exactly the expected result of Singleton pattern.</p>
<p>Strictly speaking, Spring&rsquo;s singleton is not the Singleton.</p>
<blockquote>
<p>&ldquo;Please be aware that Spring&rsquo;s concept of a singleton bean is quite different from the Singleton pattern as defined in the seminal Gang of Four (GoF) patterns book. The GoF Singleton hard codes the scope of an object such that one and only one instance of a particular class will ever be created per ClassLoader. The scope of the Spring singleton is best described as per container and per bean. This means that if you define one bean for a particular class in a single Spring container, then the Spring container will create one and only one instance of the class defined by that bean definition&rdquo;</p>
</blockquote>
<p>But the core concept is still the same: 1 single instance per definition (be it at classical Java class context, or Spring bean definition).</p>
</article>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//geraldnguyen.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
</div>
</div>
</div>
<footer class="footer text-muted">
<div class=container>
<div class=row>
<div class="col-lg-8 order-last order-lg-first">
<ul class=list-inline>
<li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li>
</ul>
</div>
<div class="col-lg-8 order-first order-lg-last text-lg-end">
<ul class=list-inline>
</ul>
</div>
</div>
</div>
</footer>
<script src=/js/bootstrap.min.586171fec3966d1a44fa8aa2edb24b861dc3a72be8cc24aa4e0dabe4c312a0dae5fe1eaa7c93180a6211fa4d7c5461b0d228fdf741be2eae279a376dfa1e7d81.js integrity="sha512-WGFx/sOWbRpE+oqi7bJLhh3DpyvozCSqTg2r5MMSoNrl/h6qfJMYCmIR+k18VGGw0ij990G+Lq4nmjdt+h59gQ==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.e13cfba4c5524e30386cb9ea71f0f191f39d15b25b222f4b67549689f7c076158f42a2282446044f5cdacc76a6d003efbfa252a84aea0116703803b6339ae35f.js integrity="sha512-4Tz7pMVSTjA4bLnqcfDxkfOdFbJbIi9LZ1SWiffAdhWPQqIoJEYET1zazHam0APvv6JSqErqARZwOAO2M5rjXw==" crossorigin=anonymous defer></script>
<script src=/main.min.9e62c9b0c5dc8279689cc9cb693a32c8ea1d19032f574f98c782ff59a0417d3662ff94b1a7755ab72a7a1862644bf00a58492c65aa0adabbc58080f4018c61bc.js integrity="sha512-nmLJsMXcgnlonMnLaToyyOodGQMvV0+Yx4L/WaBBfTZi/5Sxp3Vatyp6GGJkS/AKWEksZaoK2rvFgID0AYxhvA==" crossorigin=anonymous defer></script>
<script src=/index.min.177e5d23ef2cca9f490939925b2e6d748d9bb8005b5423f0c2075bde603b8249fe761b3e8b5d7e3e477b2cf7e73cba3c80e7809e0c3845646c2ca14ee2220663.js integrity="sha512-F35dI+8syp9JCTmSWy5tdI2buABbVCPwwgdb3mA7gkn+dhs+i11+Pkd7LPfnPLo8gOeAngw4RWRsLKFO4iIGYw==" crossorigin=anonymous defer></script>
</body>
</html>